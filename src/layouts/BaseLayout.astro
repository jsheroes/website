---
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import Preload from "../components/Preload.astro";
import ScrollToTop from "../components/ScrollToTop.astro";
import { ViewTransitions } from "astro:transitions";

import { EVENT_DATES, CURRENT_YEAR } from "../data/constants";

export interface Props {
  title: string;
  theme?: "dark";
}

const { title: propsTitle, theme } = Astro.props as Props;

const title =
  propsTitle || `JSHeroes ${CURRENT_YEAR} | Open-Source Community Event`;
const description = `JSHeroes is an yearly event organized by the local JS community in Cluj, Romania. Check the latest updates and join us on the ${EVENT_DATES} ${CURRENT_YEAR}`;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta
      name="google-site-verification"
      content="-VWpgQNMZy97BonSpKFQXFiI7wRwtWmdQeKzLjJsH08"
    />
    <link rel="icon" type="image/x-icon" href="/img/social/bear-192.png" />
    <title>{title}</title>

    <Preload />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <link rel="manifest" href="/manifest.json" />
    <meta name="description" content={description} />
    <meta name="theme-color" content="#0b1b44" />

    <meta property="og:title" content={title} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jsheroes.io/" />
    <meta
      property="og:image"
      content="https://jsheroes.io/img/social/2024.png"
    />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:description" content={description} />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content={title} />
    <meta name="twitter:site" content="@jsheroes" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta
      name="twitter:image"
      content="https://jsheroes.io/img/social/2024.png"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@jsheroes" />

    <script async src="https://cdn.splitbee.io/sb.js"></script>
    <ViewTransitions />
  </head>

  <body>
    <Navbar theme={theme} />
    <slot />
    <ScrollToTop />
    <Footer />
    <style is:global>
      :root {
        --font-size-sm: clamp(0.8rem, 0.2vw + 0.8rem, 0.9rem);
        --font-size-base: clamp(1rem, 0.34vw + 0.91rem, 1.19rem);
        --font-size-lg: clamp(1.2rem, 0.7vw + 1.3rem, 1.8rem);
        --font-size-xl: clamp(2.4rem, 2.38vw + 1.85rem, 3.6rem);

        --font-family-base: system-ui, sans-serif;
        --font-family-display: "Ubuntu", sans-serif;

        --color-neutral-dark: #202022;
        --color-neutral-light: #ffffff;
        --color-neutral-separator: #ebe7e7;
        --color-primary: #0b1b44;
        --color-logo: #0098ff;
        --color-accent-pink: #ff6078;
        --color-accent-orange: #ffcc67;
        --color-accent-green: #65d3bb;

        --speed-move: 0.1s;
        --speed-fade: 0.125s;
        --speed-transition: 0.2s;
      }

      *,
      *:after,
      *:before {
        box-sizing: border-box;
      }

      html {
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
        color: var(--color-neutral-dark);
        background-color: var(--color-neutral-light);
        line-height: 1.6;
        overscroll-behavior-y: none;
      }

      @media only screen and (-webkit-min-device-pixel-ratio: 1.3),
        only screen and (-o-min-device-pixel-ratio: 13/10),
        only screen and (min-resolution: 120dpi) {
        html {
          -moz-osx-font-smoothing: grayscale;
          -webkit-font-smoothing: antialiased;
        }
      }

      body {
        margin: 0;
      }

      body:has(dialog[open]) {
        overflow: hidden;
      }

      main {
        /* header + footer */
        min-height: calc(100vh - 500px - 400px);
        position: relative;
      }

      h1 {
        font-size: var(--font-size-xl);
        font-family: var(--font-family-display);
        margin-top: 0;
      }

      h2 {
        font-size: var(--font-size-lg);
        font-family: var(--font-family-display);
        margin-top: 0;
      }

      a {
        color: inherit;
        text-decoration-thickness: 4px;
        text-decoration-color: var(--color-accent-orange);
        text-decoration-skip-ink: none;
        transition: text-decoration-color var(--speed-fade) ease-out;
        outline-offset: -5px;
      }

      a:hover {
        text-decoration-color: var(--color-accent-pink);
      }

      a:focus-visible {
        outline: dashed var(--color-accent-pink) 2px;
        outline-offset: 5px;
        text-decoration: none;
      }

      button {
        transition: outline-offset var(--speed-fade) ease-out;
      }

      button:focus-visible {
        outline: dashed var(--color-accent-pink) 2px;
        outline-offset: 5px;
      }

      .cta-button {
        text-decoration: none;
        font-family: var(--font-family-display);
        background: var(--color-accent-orange);
        color: var(--color-neutral-dark);
        padding: 0.5rem 2rem;
        border: none;
        border-radius: 1rem;
        outline-offset: -4px;
        transition: all var(--speed-fade) ease-out;
      }

      .cta-button:hover {
        color: var(--color-neutral-dark);
        background: var(--color-accent-pink);
      }

      .navlink {
        color: var(--color-neutral-light);
        text-decoration: none;
        position: relative;
      }

      .navlink.dark {
        color: var(--color-neutral-dark);
      }

      .navlink::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 0.15rem;
        background-color: var(--color-accent-pink);
        transition: transform var(--speed-fade) ease-out;
        opacity: 1;
        transform: scale(0);
        transform-origin: center;
      }

      .navlink:hover::after {
        transform: scale(1);
      }

      .header-image {
        display: block;
        width: 100%;
        height: 500px;
        object-fit: cover;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      .responsive-image {
        width: 100%;
        height: auto;
      }
    </style>
  </body>
</html>
